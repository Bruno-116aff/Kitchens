import{j as e,m as _,r as m}from"./index-kVCMSIPH.js";import{P as w,a as C}from"./api-C_-OvuKs.js";import{C as z}from"./Card-Cy9JOmk2.js";import{B as v}from"./Button-DyS8vgMC.js";import{A as k}from"./index-BNvT-d9R.js";const S=({option:s,isSelected:i,onSelect:t,disabled:l=!1})=>{const a=()=>{l||t(s.value)},o=["quiz-option",i&&"quiz-option--selected",l&&"quiz-option--disabled"].filter(Boolean).join(" ");return e.jsx(_.div,{className:o,onClick:a,whileHover:l?{}:{scale:1.02},whileTap:l?{}:{scale:.98},transition:{duration:.2},children:e.jsxs("div",{className:"quiz-option__content",children:[e.jsxs("div",{className:"quiz-option__header",children:[e.jsx("h3",{className:"quiz-option__label",children:s.label}),e.jsx("div",{className:"quiz-option__indicator",children:i&&e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.jsx("p",{className:"quiz-option__description",children:s.description})]})})},P=({step:s,currentValue:i,onComplete:t,onGoBack:l,isLoading:a=!1})=>{const o=n=>{t(s.id,n)},c=(n,u)=>{const g={...i,[n]:u};t(s.id,g)},p=()=>s.type==="dimensions"?e.jsxs("div",{className:"quiz-step__dimensions",children:[e.jsxs("div",{className:"quiz-step__dimension-input",children:[e.jsx("label",{htmlFor:"width",children:"Width (meters)"}),e.jsx("input",{id:"width",type:"number",min:"1",max:"10",step:"0.1",value:(i==null?void 0:i.width)||3,onChange:n=>c("width",parseFloat(n.target.value)),disabled:a})]}),e.jsxs("div",{className:"quiz-step__dimension-input",children:[e.jsx("label",{htmlFor:"height",children:"Height (meters)"}),e.jsx("input",{id:"height",type:"number",min:"2",max:"3",step:"0.1",value:(i==null?void 0:i.height)||2.5,onChange:n=>c("height",parseFloat(n.target.value)),disabled:a})]}),e.jsxs("div",{className:"quiz-step__dimension-input",children:[e.jsx("label",{htmlFor:"depth",children:"Depth (meters)"}),e.jsx("input",{id:"depth",type:"number",min:"0.3",max:"1",step:"0.1",value:(i==null?void 0:i.depth)||.6,onChange:n=>c("depth",parseFloat(n.target.value)),disabled:a})]}),e.jsxs("div",{className:"quiz-step__dimension-summary",children:[e.jsxs("p",{children:["Room size: ",(i==null?void 0:i.width)||3,"m ×"," ",(i==null?void 0:i.height)||2.5,"m × ",(i==null?void 0:i.depth)||.6,"m"]}),e.jsxs("p",{className:"quiz-step__dimension-area",children:["Area:"," ",(((i==null?void 0:i.width)||3)*((i==null?void 0:i.depth)||.6)).toFixed(1)," ","m²"]})]})]}):s.options?e.jsx("div",{className:"quiz-step__options",children:s.options.map(n=>e.jsx(S,{option:n,isSelected:i===n.value,onSelect:o,disabled:a},n.value))}):null;return e.jsxs("div",{className:"quiz-step",children:[e.jsxs("div",{className:"quiz-step__header",children:[e.jsx("h2",{className:"quiz-step__title",children:s.title}),l&&e.jsxs("button",{className:"quiz-step__back-button",onClick:l,disabled:a,children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back"]})]}),e.jsx("div",{className:"quiz-step__content",children:p()}),a&&e.jsxs("div",{className:"quiz-step__loading",children:[e.jsx("div",{className:"quiz-step__spinner"}),e.jsx("p",{children:"Calculating your kitchen price..."})]})]})},B=({progress:s,className:i=""})=>{const t=["quiz-progress-bar",i].filter(Boolean).join(" ");return e.jsxs("div",{className:t,children:[e.jsxs("div",{className:"quiz-progress-bar__header",children:[e.jsx("h3",{className:"quiz-progress-bar__title",children:"Kitchen Price Calculator"}),e.jsxs("span",{className:"quiz-progress-bar__step",children:["Step ",Math.ceil(s/100*7)," of 7"]})]}),e.jsx("div",{className:"quiz-progress-bar__progress",children:e.jsx(w,{progress:s,variant:"success",animated:!0,showPercentage:!0})}),e.jsx("div",{className:"quiz-progress-bar__description",children:e.jsx("p",{children:"Answer a few questions to get your personalized kitchen quote"})})]})},j=({price:s,currency:i="€",period:t,size:l="md",variant:a="default",className:o=""})=>{const c=n=>new Intl.NumberFormat("en-EU",{minimumFractionDigits:0,maximumFractionDigits:0}).format(n),p=["price-tag",`price-tag--${l}`,`price-tag--${a}`,o].filter(Boolean).join(" ");return e.jsxs("div",{className:p,children:[e.jsx("span",{className:"price-tag__currency",children:i}),e.jsx("span",{className:"price-tag__amount",children:c(s)}),t&&e.jsx("span",{className:"price-tag__period",children:t})]})},Q=({result:s,onRestart:i})=>{const t=()=>{window.location.href="/book?source=quiz"},l=()=>{window.location.href="/contact?source=quiz"};return e.jsxs(_.div,{className:"quiz-result",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"quiz-result__header",children:[e.jsx("h1",{children:"Your Kitchen Price Estimate"}),e.jsx("p",{children:"Based on your preferences, here's what we recommend:"})]}),e.jsx("div",{className:"quiz-result__price-range",children:e.jsxs(z,{className:"quiz-result__price-card",children:[e.jsxs("div",{className:"quiz-result__price-display",children:[e.jsx(j,{price:s.priceRange.min,size:"lg",variant:"default"}),e.jsx("span",{className:"quiz-result__price-separator",children:"-"}),e.jsx(j,{price:s.priceRange.max,size:"lg",variant:"highlight"})]}),e.jsx("p",{className:"quiz-result__price-note",children:"This estimate includes design, materials, and installation"})]})}),e.jsxs("div",{className:"quiz-result__presets",children:[e.jsx("h2",{children:"Recommended Packages"}),e.jsx("div",{className:"quiz-result__preset-grid",children:s.presets.map(a=>e.jsxs(z,{className:"quiz-result__preset-card",children:[e.jsx("div",{className:"quiz-result__preset-image",children:e.jsx("img",{src:a.image,alt:a.name,onError:o=>{o.currentTarget.src="/images/portfolio/project-1/1.jpg"}})}),e.jsxs("div",{className:"quiz-result__preset-content",children:[e.jsx("h3",{children:a.name}),e.jsx(j,{price:a.price,size:"md",variant:"default"}),e.jsx("p",{children:a.description})]})]},a.id))})]}),s.recommendations.length>0&&e.jsxs("div",{className:"quiz-result__recommendations",children:[e.jsx("h2",{children:"Our Recommendations"}),e.jsx("ul",{children:s.recommendations.map((a,o)=>e.jsx("li",{children:a},o))})]}),e.jsxs("div",{className:"quiz-result__actions",children:[e.jsx(v,{variant:"primary",size:"lg",onClick:t,className:"quiz-result__cta",children:"Book Free Consultation"}),e.jsx(v,{variant:"secondary",size:"lg",onClick:l,children:"Get Detailed Quote"}),e.jsx(v,{variant:"ghost",onClick:i,className:"quiz-result__restart",children:"Start Over"})]}),e.jsx("div",{className:"quiz-result__disclaimer",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Disclaimer:"})," This is an estimate based on your inputs. Final pricing may vary based on specific requirements, materials, and current market conditions. Contact us for a detailed quote."]})})]})},x=[{id:"kitchenType",title:"What type of kitchen do you need?",options:[{value:"modular",label:"Modular Kitchen",description:"Pre-designed modules, faster delivery"},{value:"custom",label:"Custom Kitchen",description:"Tailored to your space and needs"},{value:"premium",label:"Premium Kitchen",description:"High-end materials and finishes"},{value:"individual",label:"Individual Project",description:"Completely bespoke design"}]},{id:"layout",title:"What layout fits your space?",options:[{value:"linear",label:"Linear",description:"Straight line along one wall"},{value:"l-shaped",label:"L-Shaped",description:"Two walls forming an L"},{value:"u-shaped",label:"U-Shaped",description:"Three walls forming a U"},{value:"island",label:"Island",description:"Central island with surrounding cabinets"},{value:"two-row",label:"Two-Row",description:"Kitchen facing dining area"}]},{id:"dimensions",title:"What are your room dimensions?",type:"dimensions"},{id:"style",title:"What style appeals to you?",options:[{value:"modern",label:"Modern",description:"Clean lines, minimalist design"},{value:"classic",label:"Classic",description:"Traditional, timeless elegance"},{value:"scandinavian",label:"Scandinavian",description:"Light wood, natural materials"},{value:"loft",label:"Loft",description:"Industrial, exposed elements"},{value:"minimalist",label:"Minimalist",description:"Simple, uncluttered spaces"},{value:"provence",label:"Provence",description:"French country, rustic charm"}]},{id:"countertop",title:"What countertop material do you prefer?",options:[{value:"laminate",label:"Laminate",description:"Budget-friendly, many colors"},{value:"acrylic",label:"Acrylic",description:"Seamless, modern look"},{value:"quartz",label:"Quartz",description:"Durable, low maintenance"},{value:"natural-stone",label:"Natural Stone",description:"Marble, granite luxury"},{value:"wood",label:"Wood",description:"Warm, natural finish"}]},{id:"appliances",title:"What appliance package do you need?",options:[{value:"basic",label:"Basic",description:"Essential appliances only"},{value:"standard",label:"Standard",description:"Good quality, mid-range"},{value:"premium",label:"Premium",description:"High-end, professional grade"},{value:"none",label:"None",description:"I already have appliances"}]},{id:"budget",title:"What is your budget range?",options:[{value:"budget-low",label:"Under €5,000",description:"Essential features, quality materials"},{value:"budget-medium",label:"€5,000 - €10,000",description:"Good value, premium touches"},{value:"budget-high",label:"€10,000 - €20,000",description:"Premium materials and features"},{value:"budget-premium",label:"€20,000+",description:"Luxury finishes and appliances"}]}],F=({onComplete:s,className:i=""})=>{const[t,l]=m.useState(0),[a,o]=m.useState({dimensions:{width:3,height:2.5,depth:.6}}),[c,p]=m.useState(!1),[n,u]=m.useState(null),g=(t+1)/x.length*100,b=(r,d)=>{o(h=>({...h,[r]:d})),t<x.length-1?setTimeout(()=>{l(h=>h+1)},300):q()},q=async()=>{p(!0);try{const r=a,d=await C.submitQuiz(r);u(d),s&&s(r,d)}catch(r){console.error("Quiz completion error:",r)}finally{p(!1)}},f=()=>{t>0&&l(r=>r-1)},N=()=>{l(0),o({dimensions:{width:3,height:2.5,depth:.6}}),u(null)};m.useEffect(()=>{Object.keys(a).length>1&&localStorage.setItem("kitchen-quiz-progress",JSON.stringify({currentStep:t,quizData:a}))},[t,a]),m.useEffect(()=>{const r=localStorage.getItem("kitchen-quiz-progress");if(r)try{const{currentStep:d,quizData:h}=JSON.parse(r);l(d),o(h)}catch(d){console.error("Error loading quiz progress:",d)}},[]);const y=["quiz-flow",i].filter(Boolean).join(" ");return n?e.jsx(Q,{result:n,quizData:a,onRestart:N}):e.jsxs("div",{className:y,children:[e.jsx(B,{progress:g}),e.jsx("div",{className:"quiz-flow__content",children:e.jsx(k,{mode:"wait",children:e.jsx(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:e.jsx(P,{step:x[t],currentValue:a[x[t].id],onComplete:b,onGoBack:t>0?f:void 0,isLoading:c})},t)})})]})},E=()=>{const s=(i,t)=>{console.log("Quiz completed:",{data:i,result:t})};return e.jsx("div",{className:"calculator-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"calculator-page__header",children:[e.jsx("h1",{children:"Kitchen Price Calculator"}),e.jsx("p",{children:"Get your personalized kitchen quote in just 60 seconds"})]}),e.jsx("div",{className:"calculator-page__content",children:e.jsx(F,{onComplete:s})})]})})};export{E as default};
