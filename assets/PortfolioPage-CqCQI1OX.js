import{j as e,m as f,r as g}from"./index-C2fG5U2l.js";import{p as _,a as y}from"./portfolio-DzWxMPGt.js";import{B as v}from"./Button-oQKAKhEZ.js";import{O as k}from"./OptimizedImage-fii7NNyF.js";import{B as N}from"./Badge-B7e5Z8FI.js";import{A as C}from"./index-Cqq20Rcv.js";const z=({filters:s,onFiltersChange:o,onClearFilters:h,className:p=""})=>{const d=(i,n,t)=>{const a=s[i]||[];let l;t?l=[...a,n]:l=a.filter(m=>m!==n),o({...s,[i]:l.length>0?l:void 0})},x=Object.values(s).some(i=>i&&i.length>0),b=["filter-sidebar",p].filter(Boolean).join(" ");return e.jsxs("div",{className:b,children:[e.jsxs("div",{className:"filter-sidebar__header",children:[e.jsx("h3",{children:"Filters"}),x&&e.jsx("button",{className:"filter-sidebar__clear-button",onClick:h,children:"Clear All"})]}),e.jsxs("div",{className:"filter-sidebar__content",children:[e.jsxs("div",{className:"filter-sidebar__group",children:[e.jsx("h4",{className:"filter-sidebar__group-title",children:"Categories"}),e.jsx("div",{className:"filter-sidebar__options",children:_.categories.map(i=>{var t;const n=((t=s.categories)==null?void 0:t.includes(i.value))||!1;return e.jsxs("label",{className:"filter-sidebar__option",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:a=>d("categories",i.value,a.target.checked)}),e.jsxs("span",{className:"filter-sidebar__option-label",children:[i.label," (",i.count,")"]})]},i.value)})})]}),e.jsxs("div",{className:"filter-sidebar__group",children:[e.jsx("h4",{className:"filter-sidebar__group-title",children:"Styles"}),e.jsx("div",{className:"filter-sidebar__options",children:_.styles.map(i=>{var t;const n=((t=s.styles)==null?void 0:t.includes(i.value))||!1;return e.jsxs("label",{className:"filter-sidebar__option",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:a=>d("styles",i.value,a.target.checked)}),e.jsxs("span",{className:"filter-sidebar__option-label",children:[i.label," (",i.count,")"]})]},i.value)})})]}),e.jsxs("div",{className:"filter-sidebar__group",children:[e.jsx("h4",{className:"filter-sidebar__group-title",children:"Materials"}),e.jsx("div",{className:"filter-sidebar__options",children:_.materials.map(i=>{var t;const n=((t=s.materials)==null?void 0:t.includes(i.value))||!1;return e.jsxs("label",{className:"filter-sidebar__option",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:a=>d("materials",i.value,a.target.checked)}),e.jsxs("span",{className:"filter-sidebar__option-label",children:[i.label," (",i.count,")"]})]},i.value)})})]}),e.jsxs("div",{className:"filter-sidebar__group",children:[e.jsx("h4",{className:"filter-sidebar__group-title",children:"Layouts"}),e.jsx("div",{className:"filter-sidebar__options",children:_.layouts.map(i=>{var t;const n=((t=s.layouts)==null?void 0:t.includes(i.value))||!1;return e.jsxs("label",{className:"filter-sidebar__option",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:a=>d("layouts",i.value,a.target.checked)}),e.jsxs("span",{className:"filter-sidebar__option-label",children:[i.label," (",i.count,")"]})]},i.value)})})]}),e.jsxs("div",{className:"filter-sidebar__group",children:[e.jsx("h4",{className:"filter-sidebar__group-title",children:"Sizes"}),e.jsx("div",{className:"filter-sidebar__options",children:_.sizes.map(i=>{var t;const n=((t=s.sizes)==null?void 0:t.includes(i.value))||!1;return e.jsxs("label",{className:"filter-sidebar__option",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:a=>d("sizes",i.value,a.target.checked)}),e.jsxs("span",{className:"filter-sidebar__option-label",children:[i.label," (",i.count,")"]})]},i.value)})})]}),e.jsxs("div",{className:"filter-sidebar__group",children:[e.jsx("h4",{className:"filter-sidebar__group-title",children:"Budgets"}),e.jsx("div",{className:"filter-sidebar__options",children:_.budgets.map(i=>{var t;const n=((t=s.budgets)==null?void 0:t.includes(i.value))||!1;return e.jsxs("label",{className:"filter-sidebar__option",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:a=>d("budgets",i.value,a.target.checked)}),e.jsxs("span",{className:"filter-sidebar__option-label",children:[i.label," (",i.count,")"]})]},i.value)})})]})]})]})},w=({label:s,onRemove:o,className:h=""})=>{const p=["filter-chip",h].filter(Boolean).join(" ");return e.jsxs("div",{className:p,children:[e.jsx("span",{className:"filter-chip__label",children:s}),e.jsx("button",{className:"filter-chip__remove",onClick:o,"aria-label":`Remove ${s} filter`,children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})},F=({project:s,onClick:o,className:h=""})=>{const p=()=>{o?o():window.location.href=`/portfolio/${s.slug}`},d=["project-card",h].filter(Boolean).join(" ");return e.jsx(f.div,{className:d,whileHover:{y:-4},transition:{duration:.2},children:e.jsxs("div",{className:"project-card__container",onClick:p,children:[e.jsxs("div",{className:"project-card__image-container",children:[e.jsx(k,{src:s.images.main,alt:s.title,className:"project-card__image",width:400,height:300,lazy:!0}),e.jsx("div",{className:"project-card__overlay",children:e.jsx(v,{variant:"outline",size:"sm",className:"project-card__view-button",children:"View Project"})})]}),e.jsxs("div",{className:"project-card__content",children:[e.jsxs("div",{className:"project-card__header",children:[e.jsx("h3",{className:"project-card__title",children:s.title}),e.jsxs("div",{className:"project-card__badges",children:[e.jsx(N,{variant:"info",size:"sm",children:s.style[0]}),e.jsx(N,{variant:"default",size:"sm",children:s.budget})]})]}),e.jsx("p",{className:"project-card__description",children:s.description}),e.jsxs("div",{className:"project-card__details",children:[e.jsxs("div",{className:"project-card__detail-item",children:[e.jsx("span",{className:"project-card__detail-label",children:"Category:"}),e.jsx("span",{className:"project-card__detail-value",children:s.category})]}),e.jsxs("div",{className:"project-card__detail-item",children:[e.jsx("span",{className:"project-card__detail-label",children:"Size:"}),e.jsx("span",{className:"project-card__detail-value",children:s.size})]}),e.jsxs("div",{className:"project-card__detail-item",children:[e.jsx("span",{className:"project-card__detail-label",children:"Materials:"}),e.jsx("span",{className:"project-card__detail-value",children:s.materials.slice(0,2).join(", ")})]})]}),e.jsxs("div",{className:"project-card__actions",children:[e.jsx(v,{variant:"primary",size:"sm",children:"View Details"}),e.jsx(v,{variant:"ghost",size:"sm",children:"Like This Style"})]})]})]})})},B=({projects:s,loading:o=!1,onProjectClick:h,className:p=""})=>{const d=["project-grid",p].filter(Boolean).join(" ");return o?e.jsx("div",{className:d,children:e.jsx("div",{className:"project-grid__loading",children:[1,2,3,4,5,6].map(x=>e.jsxs("div",{className:"project-grid__skeleton",children:[e.jsx("div",{className:"project-grid__skeleton-image"}),e.jsxs("div",{className:"project-grid__skeleton-content",children:[e.jsx("div",{className:"project-grid__skeleton-title"}),e.jsx("div",{className:"project-grid__skeleton-description"}),e.jsx("div",{className:"project-grid__skeleton-button"})]})]},x))})}):s.length===0?e.jsx("div",{className:d,children:e.jsxs("div",{className:"project-grid__empty",children:[e.jsx("div",{className:"project-grid__empty-icon",children:"🔍"}),e.jsx("h3",{children:"No projects found"}),e.jsx("p",{children:"Try adjusting your filters to see more results"})]})}):e.jsx("div",{className:d,children:e.jsx("div",{className:"project-grid__content",children:s.map((x,b)=>e.jsx(f.div,{className:"project-grid__item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:b*.1},children:e.jsx(F,{project:x,onClick:()=>h==null?void 0:h(x)})},x.id))})})},A=()=>{const[s,o]=g.useState({}),[h,p]=g.useState(!1),d=g.useMemo(()=>{let a=y;return s.categories&&s.categories.length>0&&(a=a.filter(l=>s.categories.includes(l.category))),s.styles&&s.styles.length>0&&(a=a.filter(l=>l.style.some(m=>s.styles.includes(m)))),s.materials&&s.materials.length>0&&(a=a.filter(l=>l.materials.some(m=>s.materials.includes(m)))),s.layouts&&s.layouts.length>0&&(a=a.filter(l=>l.layout.some(m=>s.layouts.includes(m)))),s.sizes&&s.sizes.length>0&&(a=a.filter(l=>s.sizes.includes(l.size))),s.budgets&&s.budgets.length>0&&(a=a.filter(l=>s.budgets.includes(l.budget))),a},[s]);g.useEffect(()=>{p(!0);const a=setTimeout(()=>p(!1),300);return()=>clearTimeout(a)},[s]);const x=g.useCallback(a=>{o(a)},[]),b=g.useCallback(()=>{o({})},[]),i=g.useCallback((a,l)=>{const r=(s[a]||[]).filter(j=>j!==l);o(j=>({...j,[a]:r.length>0?r:void 0}))},[s]),n=g.useCallback(a=>{window.location.href=`/portfolio/${a.slug}`},[]),t=g.useMemo(()=>{const a=[];return Object.entries(s).forEach(([l,m])=>{m&&m.length>0&&m.forEach(r=>{let j=r;if(l==="categories"){const c=_.categories.find(u=>u.value===r);j=c?c.label:r}else if(l==="styles"){const c=_.styles.find(u=>u.value===r);j=c?c.label:r}else if(l==="materials"){const c=_.materials.find(u=>u.value===r);j=c?c.label:r}else if(l==="layouts"){const c=_.layouts.find(u=>u.value===r);j=c?c.label:r}else if(l==="sizes"){const c=_.sizes.find(u=>u.value===r);j=c?c.label:r}else if(l==="budgets"){const c=_.budgets.find(u=>u.value===r);j=c?c.label:r}a.push({type:l,value:r,label:j})})}),a},[s]);return e.jsx("div",{className:"portfolio-page",children:e.jsxs("div",{className:"container",children:[e.jsxs(f.div,{className:"portfolio-page__header",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("h1",{children:"Our Portfolio"}),e.jsx("p",{children:"Browse our latest kitchen projects and get inspired"})]}),e.jsxs("div",{className:"portfolio-page__content",children:[e.jsx("div",{className:"portfolio-page__sidebar",children:e.jsx(z,{filters:s,onFiltersChange:x,onClearFilters:b})}),e.jsxs("div",{className:"portfolio-page__main",children:[e.jsx(C,{children:t.length>0&&e.jsxs(f.div,{className:"portfolio-page__active-filters",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[e.jsx("h3",{children:"Active Filters:"}),e.jsx("div",{className:"portfolio-page__filter-chips",children:t.map((a,l)=>e.jsx(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,delay:l*.05},children:e.jsx(w,{label:a.label,onRemove:()=>i(a.type,a.value)})},`${a.type}-${a.value}-${l}`))})]})}),e.jsxs("div",{className:"portfolio-page__results",children:[e.jsx(f.div,{className:"portfolio-page__results-header",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsx("h2",{children:h?"Loading...":`${d.length} projects found`})}),e.jsx(B,{projects:d,loading:h,onProjectClick:n})]})]})]})]})})};export{A as default};
