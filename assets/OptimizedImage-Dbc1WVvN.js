import{r as l,f as S,h as n,k as f,j as e,l as y}from"./index-BMAD2AX4.js";const b=({src:p,alt:r,className:_="",fallback:i,width:c,height:d,lazy:x=!0,priority:o=!1,onLoad:a,onError:t})=>{const[g,j]=l.useState(!1),[s,z]=l.useState(!1),h=()=>{j(!0),a==null||a()},u=()=>{z(!0),t==null||t()},m=y(p,i),{webp:v}=S(m,i),I=n(m),N=s?i||f(c||400,d||300,r):m;return e.jsxs("div",{className:`optimized-image ${_}`,children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:n(v),type:"image/webp/jpg",media:"(min-width: 1px)"}),e.jsx("img",{src:N,srcSet:I,alt:r,width:c,height:d,loading:x&&!o?"lazy":"eager",decoding:o?"sync":"async",onLoad:h,onError:u,className:`optimized-image__img ${g?"optimized-image__img--loaded":""} ${s?"optimized-image__img--error":""}`})]}),!g&&!s&&e.jsx("div",{className:"optimized-image__placeholder",children:e.jsx("div",{className:"optimized-image__skeleton"})}),s&&e.jsxs("div",{className:"optimized-image__error",children:[e.jsx("div",{className:"optimized-image__error-icon",children:"ðŸ“·"}),e.jsx("span",{className:"optimized-image__error-text",children:"Image not available"})]})]})};export{b as O};
